<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="架构对比Flink  当 Flink 集群启动后，首先会启动一个 JobManger 和一个或多个的 TaskManager。  由 Client 提交任务给 JobManager，JobManager 再调度任务到各个 TaskManager 去执行。  然后 TaskManager 将心跳和统计信息汇报给 JobManager。TaskManager 之间以流的形式进行数据的传输。  上述三者"><meta name="keywords" content="大数据,flink,spark"><meta property="og:type" content="article"><meta property="og:title" content="Flink 与 Spark 架构对比"><meta property="og:url" content="https://www.wtog.fun/2019/09/10/flink-vs-spark.html"><meta property="og:site_name" content="T-note"><meta property="og:description" content="架构对比Flink  当 Flink 集群启动后，首先会启动一个 JobManger 和一个或多个的 TaskManager。  由 Client 提交任务给 JobManager，JobManager 再调度任务到各个 TaskManager 去执行。  然后 TaskManager 将心跳和统计信息汇报给 JobManager。TaskManager 之间以流的形式进行数据的传输。  上述三者"><meta property="og:locale" content="default"><meta property="og:image" content="https://www.wtog.fun/2019/09/10/flink-vs-spark/"><meta property="og:image" content="https://www.wtog.fun/2019/09/10/flink-vs-spark/"><meta property="og:image" content="https://www.wtog.fun/2019/09/10/flink-vs-spark/"><meta property="og:updated_time" content="2019-09-16T00:10:01.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Flink 与 Spark 架构对比"><meta name="twitter:description" content="架构对比Flink  当 Flink 集群启动后，首先会启动一个 JobManger 和一个或多个的 TaskManager。  由 Client 提交任务给 JobManager，JobManager 再调度任务到各个 TaskManager 去执行。  然后 TaskManager 将心跳和统计信息汇报给 JobManager。TaskManager 之间以流的形式进行数据的传输。  上述三者"><meta name="twitter:image" content="https://www.wtog.fun/2019/09/10/flink-vs-spark/"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><title>Flink 与 Spark 架构对比 | wtog</title><link rel="stylesheet" href="/css/style.css"></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a><a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a><a id="top-icon-tablet" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")' style="display:none"><i class="fa fa-chevron-up fa-lg"></i></a><span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archives">Writings</a></li><li><a href="/categories">Categories</a></li><li><a href="/tags">Tags</a></li><li><a href="/about">About</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="/2019/09/04/scala-chain-of-responsibility-pattern.html"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle()' onmouseout='$("#i-next").toggle()'></i></a></li><li><a class="icon" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul> <span id="i-next" class="info" style="display:none">Scala 设计模式 责任链</span> <span id="i-top" class="info" style="display:none">Back to top</span> <span id="i-share" class="info" style="display:none">Share post</span></span><br><div id="share" style="display:none"><ul><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://www.wtog.fun/2019/09/10/flink-vs-spark.html"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&text=Flink 与 Spark 架构对比"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&is_video=false&description=Flink 与 Spark 架构对比"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Flink 与 Spark 架构对比&body=Check out this article: https://www.wtog.fun/2019/09/10/flink-vs-spark.html"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-digg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.tumblr.com/share/link?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&name=Flink 与 Spark 架构对比&description="><i class="fa fa-tumblr" aria-hidden="true"></i></a></li></ul></div><div id="toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#架构对比"><span class="toc-number">1.</span> <span class="toc-text">架构对比</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Flink"><span class="toc-number">1.1.</span> <span class="toc-text">Flink</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spark"><span class="toc-number">1.2.</span> <span class="toc-text">Spark</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Yarn"><span class="toc-number">1.3.</span> <span class="toc-text">Yarn</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考资料"><span class="toc-number">2.</span> <span class="toc-text">参考资料</span></a></li></ol></div></span></div><div class="content index width mx-auto px2 my4"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline"> Flink 与 Spark 架构对比</h1><div class="meta"> <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">T-note</span></span><div class="postdate"> <time datetime="2019-09-09T16:09:05.000Z" itemprop="datePublished">2019-09-10</time></div><div class="article-tag"><i class="fa fa-tag"></i> <a class="tag-link" href="/tags/flink/">flink</a>, <a class="tag-link" href="/tags/spark/">spark</a>, <a class="tag-link" href="/tags/大数据/">大数据</a></div></div></header><div class="content" itemprop="articleBody"><h2 id="架构对比"><a href="#架构对比" class="headerlink" title="架构对比"></a>架构对比</h2><h3 id="Flink"><a href="#Flink" class="headerlink" title="Flink"></a>Flink</h3><p> 当 Flink 集群启动后，首先会启动一个 JobManger 和一个或多个的 TaskManager。<br> 由 Client 提交任务给 JobManager，JobManager 再调度任务到各个 TaskManager 去执行。<br> 然后 TaskManager 将心跳和统计信息汇报给 JobManager。TaskManager 之间以流的形式进行数据的传输。<br> 上述三者均为独立的 JVM 进程。</p><p> <img data-original="flink-vs-spark/flink-architecture.png" width="100%" height="100%" class="lazy" alt="flink-archicture" src="/2019/09/10/flink-vs-spark/"></p><ul><li>Client 为提交 Job 的客户端，可以是运行在任何机器上（与 JobManager 环境连通即可）。提交 Job 后，Client 可以结束进程（Streaming的任务），也可以不结束并等待结果返回。</li><li>JobManager 主要负责调度 Job 并协调 Task 做 checkpoint，职责上很像 Storm 的 Nimbus。从 Client 处接收到 Job 和 JAR 包等资源后，会生成优化后的执行计划，并以 Task 的单元调度到各个 TaskManager 去执行。</li><li><p>TaskManager 在启动的时候就设置好了槽位数（Slot），每个 slot 能启动一个 Task，Task 为线程。从 JobManager 处接收需要部署的 Task，部署启动后，与自己的上游建立 Netty 连接，接收数据并处理。</p><p>可以看到 Flink 的任务调度是多线程模型，并且不同 Job/Task 混合在一个 TaskManager 进程中。虽然这种方式可以有效提高 CPU 利用率，但是不仅缺乏资源隔离机制，同时也不方便调试。</p></li></ul><h3 id="Spark"><a href="#Spark" class="headerlink" title="Spark"></a>Spark</h3><p> Spark 应用程序在集群上作为独立的进程集运行，由主程序（称为驱动程序）中的sparkContext对象协调。<br> 具体来说，要在集群上运行，sparkContext可以连接到几种类型的集群管理器（spark自己的独立集群管理器、mesos或yarn）,<br> 它们在应用程序之间分配资源一旦连接, spark将获取集群中节点上的执行器，这些节点是运行计算和存储应用程序数据的进程。<br> 接下来，它将应用程序代码（由传递给sparkcontext的jar或python文件定义）发送给执行器。最后，sparkContext将任务发送给执行器以运行。</p><p> <img data-original="flink-vs-spark/spark-architecture.png" width="100%" height="100%" class="lazy" alt="spark-architecture" src="/2019/09/10/flink-vs-spark/"></p><ul><li>每个应用都会有自己的处理器进程，处理器上会利用多线程执行任务。这样做到了应用级的隔离, 定时任务或者处理器任务都可以跑在不同的Jvm上。这样做的弊端是不能很好的进行多应用(SparkContext)之间的 数据共享，除非应用之间是共享一个数据存储</li><li>Spark 支持多种底层集群管理器, 因为他可以申请处理器进程, 并且彼此间可以互相通信，它很容易的就可以跑在类似 Mesos/YARN 的集群管理服务器上</li><li>Driver Program 会一直管理 SprintContext 的请求，Driver Program 会执行集群上的任务，Driver Program 和工作节点一定是要网络互通的，最好和 work node 在一个局域网之内运行,如果需要远程向群集发送请求，最好让 Driver Program 通过 RPC 提交请求操作</li></ul><h3 id="Yarn"><a href="#Yarn" class="headerlink" title="Yarn"></a>Yarn</h3><p> YARN总体上是 Master/Slave 结构，主要由 ResourceManager、NodeManager、 ApplicationMaster 和 Container 等几个组件构成。</p><p> <img data-original="flink-vs-spark/yarn-architecture.png" width="100%" height="100%" class="lazy" alt="yarn-architecture" src="/2019/09/10/flink-vs-spark/"></p><ul><li><p>ResourceManager(RM)<br>负责对各NM上的资源进行统一管理和调度。将AM分配空闲的Container运行并监控其运行状态。对AM申请的资源请求分配相应的空闲Container。<br>主要由两个组件构成：调度器和应用程序管理器</p><ul><li><p>调度器(Scheduler)<br>调度器根据容量、队列等限制条件（如每个队列分配一定的资源，最多执行一定数量的作业等）将系统中的资源分配给各个正在运行的应用程序。调度器仅根据各个应用程序的资源需求进行资源分配，而资源分配单位是Container，从而限定每个任务使用的资源量。Shceduler不负责监控或者跟踪应用程序的状态，也不负责任务因为各种原因而需要的重启（由ApplicationMaster负责）。总之，调度器根据应用程序的资源要求，以及集群机器的资源情况，为应用程序分配封装在Container中的资源。调度器是可插拔的，例如CapacityScheduler、FairScheduler。具体看下文的调度算法。</p></li><li><p>应用程序管理器(Applications Manager)<br>应用程序管理器负责管理整个系统中所有应用程序，包括应用程序提交、与调度器协商资源以启动AM、监控AM运行状态并在失败时重新启动等，跟踪分给的Container的进度、状态也是其职责。</p></li></ul></li><li><p>NodeManager (NM)<br>NM是每个节点上的资源和任务管理器。它会定时地向RM汇报本节点上的资源使用情况和各个Container的运行状态；同时会接收并处理来自AM的Container 启动/停止等请求。</p></li><li><p>ApplicationMaster (AM)<br>用户提交的应用程序均包含一个AM，负责应用的监控，跟踪应用执行状态，重启失败任务等。ApplicationMaster是应用框架，它负责向ResourceManager协调资源，并且与NodeManager协同工作完成Task的执行和监控。MapReduce就是原生支持的一种框架，可以在YARN上运行Mapreduce作业。有很多分布式应用都开发了对应的应用程序框架，用于在YARN上运行任务，例如Spark，Storm等。如果需要，我们也可以自己写一个符合规范的YARN application。</p></li><li><p>Container<br>Container是YARN中的资源抽象，它封装了某个节点上的多维度资源，如内存、CPU、磁盘、网络等，当AM向RM申请资源时，RM为AM返回的资源便是用Container 表示的。 YARN会为每个任务分配一个Container且该任务只能使用该Container中描述的资源</p></li></ul><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li>[<a href="http://wuchong.me/blog/2016/05/03/flink-internals-overview/]" target="_blank" rel="noopener">http://wuchong.me/blog/2016/05/03/flink-internals-overview/]</a></li><li>[<a href="https://spark.apache.org/docs/latest/cluster-overview.html]" target="_blank" rel="noopener">https://spark.apache.org/docs/latest/cluster-overview.html]</a></li><li>[<a href="https://hadoop.apache.org/docs/current/hadoop-yarn/hadoop-yarn-site/YARN.html]" target="_blank" rel="noopener">https://hadoop.apache.org/docs/current/hadoop-yarn/hadoop-yarn-site/YARN.html]</a></li><li><a href="https://union-click.jd.com/jdc?e=&amp;p=AyIGZRtYFAcXBFIZWR0yEgRRElMVChs3EUQDS10iXhBeGlcJDBkNXg9JHU4YDk5ER1xOGRNLGEEcVV8BXURFUFdfC0RVU1JRUy1OVxUBFg5dG1McMnpRHEwdHQtrZShfA09eT3wLBVteflQLWStaJQITBlQYWBYEFA5lK1sSMkBpja3tzaejG4Gx1MCKhTdUK1sRBRsDXRhYEAQWDlcrXBULIkEQRB9IXyI3ZRhrJTISN1YrGXsBEFRdTAlFBRcCU0xeHAQRDgdMDhxQElAATwgTAhVUBytZFAMWDg%3D%3D" target="_blank" rel="noopener">深入理解Flink:实时大数据处理实践</a></li><li><a href="https://union-click.jd.com/jdc?e=&amp;p=AyIGZRtYFAcXBFIZWR0yEgRXGlgRAxM3EUQDS10iXhBeGlcJDBkNXg9JHU4YDk5ER1xOGRNLGEEcVV8BXURFUFdfC0RVU1JRUy1OVxUBEAZWH1oUMnRYLEICTVxpZCt9HUVZYGcueghiY0QLWStaJQITBlQYWBYEFA5lK1sSMkBpja3tzaejG4Gx1MCKhTdUK1sRBRsDXRhfEwcTDlMrXBULIkEQRB9IXyI3ZRhrJTISN1YrGXsKEQEAGQgSAkIHUkxeRlUTDlATWhYLRwFTH1JGUBMAVCtZFAMWDg%3D%3D" target="_blank" rel="noopener">Spark内核设计的艺术：架构设计与实现</a></li></ul></div><ul style="display:flex;justify-content:space-between;overflow:hidden;padding-inline-start:0;border-top:1px solid #0000000f;list-style-type:none"><li style="padding-top:10px"><a class="icon" href="/2019/09/04/scala-chain-of-responsibility-pattern.html">Scala 设计模式 责任链<i class="fa fa-chevron-right"></i></a></li></ul><div id="share" style="display:none"><ul><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://www.wtog.fun/2019/09/10/flink-vs-spark.html"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&text=Flink 与 Spark 架构对比"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&is_video=false&description=Flink 与 Spark 架构对比"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Flink 与 Spark 架构对比&body=Check out this article: https://www.wtog.fun/2019/09/10/flink-vs-spark.html"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-digg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.tumblr.com/share/link?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&name=Flink 与 Spark 架构对比&description="><i class="fa fa-tumblr" aria-hidden="true"></i></a></li></ul></div></article><div id="gitalk-container"></div><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.5.0/gitalk.min.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.5.0/gitalk.min.js"></script><script type="text/javascript">var gitalk=new Gitalk({clientID:"d3a08f482c755d6537e9",clientSecret:"61cc3f4b6b88cbc8299846480faa5c9c5735676a",repo:"wtog.github.io",owner:"wtog",admin:["wtog"],labels:["note"],id:window.location.pathname.replace(/([\/\d{1,}]{1,})|(.html)/g,""),title:"Flink 与 Spark 架构对比",distractionFreeMode:"false"});gitalk.render("gitalk-container")</script></div><div id="footer-post-container"><div id="footer-post"><div id="nav-footer" style="display:none"><ul><li><a href="/">Home</a></li><li><a href="/archives">Writings</a></li><li><a href="/categories">Categories</a></li><li><a href="/tags">Tags</a></li><li><a href="/about">About</a></li></ul></div><div id="toc-footer" style="display:none"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#架构对比"><span class="toc-number">1.</span> <span class="toc-text">架构对比</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Flink"><span class="toc-number">1.1.</span> <span class="toc-text">Flink</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spark"><span class="toc-number">1.2.</span> <span class="toc-text">Spark</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Yarn"><span class="toc-number">1.3.</span> <span class="toc-text">Yarn</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考资料"><span class="toc-number">2.</span> <span class="toc-text">参考资料</span></a></li></ol></div><div id="share-footer" style="display:none"><ul><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://www.wtog.fun/2019/09/10/flink-vs-spark.html"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&text=Flink 与 Spark 架构对比"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&is_video=false&description=Flink 与 Spark 架构对比"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Flink 与 Spark 架构对比&body=Check out this article: https://www.wtog.fun/2019/09/10/flink-vs-spark.html"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&title=Flink 与 Spark 架构对比"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.tumblr.com/share/link?url=https://www.wtog.fun/2019/09/10/flink-vs-spark.html&name=Flink 与 Spark 架构对比&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li></ul></div><div id="actions-footer"><ul><li id="toc"><a class="icon" href="#" onclick='return $("#toc-footer").toggle(),!1'><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li><li id="share"><a class="icon" href="#" onclick='return $("#share-footer").toggle(),!1'><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li><li id="top" style="display:none"><a class="icon" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li><li id="menu"><a class="icon" href="#" onclick='return $("#nav-footer").toggle(),!1'><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li></ul></div></div></div><footer id="footer"><div class="footer-left"> Copyright &copy; 2019 wangtong</div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archives">Writings</a></li><li><a href="/categories">Categories</a></li><li><a href="/tags">Tags</a></li><li><a href="/about">About</a></li></ul></nav></div></footer></body></html><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/lib/meslo-LG/styles.css"><link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css"><script src="https://cdn.bootcss.com/jquery/2.1.3/jquery.min.js"></script><script src="https://cdn.bootcss.com/jquery_lazyload/1.9.7/jquery.lazyload.min.js"></script><script type="text/javascript">window.jQuery||document.write(unescape("%3Cscript src='/lib/jquery/jquery.min.js' type='text/javascript'%3E%3C/script%3E")),$(function(){$("img.lazy").lazyload({effect:"fadeIn"})})</script><script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="/js/main.js"></script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?112b38d6404b3ba7c2f3dfdb3d24528c";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script type="text/javascript" src="//js.users.51.la/20262935.js"></script>